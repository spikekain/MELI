{"ast":null,"code":"import fetch from \"isomorphic-fetch\";\nimport helpers from \"../../../helpers/detailHelpers\";\nimport searchHelpers from \"../../../helpers/searchHelpers\";\nexport default (async (req, res) => {\n  try {\n    console.log(req);\n    var helper = new helpers();\n    const res1 = await fetch(\"https://api.mercadolibre.com/items/\" + req.query.id);\n    const json1 = await res1.json();\n    const res2 = await fetch(\"https://api.mercadolibre.com/items/\" + req.query.id + \"/description\");\n    const json2 = await res2.json();\n    const res3 = await fetch(\"https://api.mercadolibre.com/categories/\" + json1.category_id);\n    const json3 = await res3.json();\n    res.status(200).json(new searchHelpers().getCategories(json3)); // const json3 = await res2.json();\n    // res.status(200).json(\n    //   helper.buildResponse({\n    //     detalle: json1,\n    //     description: json2,\n    //   })\n    // );\n  } catch (error) {\n    res.status(500);\n  }\n});","map":{"version":3,"sources":["C:/Users/spike/Documents/MELI/MELI/pages/api/items/[id].tsx"],"names":["fetch","helpers","searchHelpers","req","res","console","log","helper","res1","query","id","json1","json","res2","json2","res3","category_id","json3","status","getCategories","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,kBAAlB;AACA,OAAOC,OAAP,MAAoB,gCAApB;AACA,OAAOC,aAAP,MAA0B,gCAA1B;AAEA,gBAAe,OAAOC,GAAP,EAAgBC,GAAhB,KAA4B;AACzC,MAAI;AACFC,IAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACA,QAAII,MAAM,GAAG,IAAIN,OAAJ,EAAb;AAEA,UAAMO,IAAI,GAAG,MAAMR,KAAK,CACtB,wCAAwCG,GAAG,CAACM,KAAJ,CAAUC,EAD5B,CAAxB;AAGA,UAAMC,KAAK,GAAG,MAAMH,IAAI,CAACI,IAAL,EAApB;AACA,UAAMC,IAAI,GAAG,MAAMb,KAAK,CACtB,wCAAwCG,GAAG,CAACM,KAAJ,CAAUC,EAAlD,GAAuD,cADjC,CAAxB;AAGA,UAAMI,KAAK,GAAG,MAAMD,IAAI,CAACD,IAAL,EAApB;AAEA,UAAMG,IAAI,GAAG,MAAMf,KAAK,CACpB,6CAA6CW,KAAK,CAACK,WAD/B,CAAxB;AAGE,UAAMC,KAAK,GAAG,MAAMF,IAAI,CAACH,IAAL,EAApB;AAGFR,IAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBN,IAAhB,CAAsB,IAAIV,aAAJ,GAAoBiB,aAApB,CAAkCF,KAAlC,CAAtB,EAnBE,CAoBF;AACA;AACA;AACA;AACA;AACA;AACA;AACD,GA3BD,CA2BE,OAAOG,KAAP,EAAc;AACdhB,IAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX;AACD;AACF,CA/BD","sourcesContent":["import fetch from \"isomorphic-fetch\";\r\nimport helpers from \"../../../helpers/detailHelpers\";\r\nimport searchHelpers from \"../../../helpers/searchHelpers\";\r\n\r\nexport default async (req:any, res:any) => {\r\n  try {\r\n    console.log(req);\r\n    var helper = new helpers();\r\n   \r\n    const res1 = await fetch(\r\n      \"https://api.mercadolibre.com/items/\" + req.query.id\r\n    );\r\n    const json1 = await res1.json();\r\n    const res2 = await fetch(\r\n      \"https://api.mercadolibre.com/items/\" + req.query.id + \"/description\"\r\n    );\r\n    const json2 = await res2.json();\r\n\r\n    const res3 = await fetch(\r\n        \"https://api.mercadolibre.com/categories/\" + json1.category_id\r\n      );\r\n      const json3 = await res3.json();\r\n     \r\n   \r\n    res.status(200).json( new searchHelpers().getCategories(json3) );\r\n    // const json3 = await res2.json();\r\n    // res.status(200).json(\r\n    //   helper.buildResponse({\r\n    //     detalle: json1,\r\n    //     description: json2,\r\n    //   })\r\n    // );\r\n  } catch (error) {\r\n    res.status(500);\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}